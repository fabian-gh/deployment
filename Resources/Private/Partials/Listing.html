<style>
    .table{
        border-collapse: collapse; 
        max-width: 850px;
    }
    .space{
        width: 95px;
    }
    .space2{
        width: 250px;
    }
    .img-spacer{
        padding-left: 5px;
        padding-bottom: 2px;
    }
</style>

<f:form action="createDeploy" name="deploy" object="{deploy}">

<b>Gesamtdatens√§tze: </b><f:count>{historyEntries}</f:count><br /><br />
 <table class="table typo3-dblist">
    <tr class="t3-row-header">
        <th>
            <f:image src="{f:uri.resource(path: 'unchecked.png')}" alt="uncheck checkboxes" id="unchecked" class="img-spacer" />
            <f:image src="{f:uri.resource(path: 'checked.png')}" alt="check checkboxes" id="checked" class="img-spacer" />
        </th>
        <th>ID-Info</th>
        <th>Timestamp</th>
        <th>Table</th>
        <th>Difference</th>
    </tr>
    <f:for each="{historyEntries}" as="entry">

        <tr class="db_list_normal">
            <td><f:form.checkbox property="deployEntries" value="{entry.uid}"/></td>
            <td class="space">
                UID: {entry.uid}<br/>
                Log-UID: {entry.sysLogUid}<br />
                <b>Rec-UID: {entry.recuid}</b>
            </td>
            <td class="space"><f:format.date format="d.m.Y H:i:s">{entry.tstamp}</f:format.date></td>
            <td class="space">{entry.tablename}</td>
            <td>
                <f:for each="{diffData}" key="datakey" as="data">
                    <f:if condition="{datakey} == {entry.recuid}">
                        <table>
                            <f:for each="{data}" key="key" as="valueArr">
                                <f:for each="{valueArr}" key="valuekey" as="value">
                                    <tr>
                                        <td><i>{key}:</i><br /><f:format.raw>{value}</f:format.raw></td>
                                    </tr>
                                </f:for>
                            </f:for>
                        </table>
                    </f:if>
                </f:for>
            </td>
        </tr>
    </f:for>
</table><br />

<f:form.submit value="Liste erstellen" />   
</f:form>

<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script type="text/javascript">

$('document').ready(function(){
    // Alle Checkoxen checken und Checked-Checkbox verstecken
    $(':checkbox').attr('checked', 'checked');
    $('#checked').hide();
    
    // wenn auf Checkboxen unchecken geklickt wird dann verstecken, 
    // Attribut entfernen und checked anzeigen
    $('#unchecked').click(function(){
        $(this).hide();
        $(':checkbox').removeAttr('checked');
        $('#checked').show();
    });
    
    // analog zu oben
    $('#checked').click(function(){
        $(this).hide();
        $(':checkbox').attr('checked', 'checked');
        $('#unchecked').show();
    });
        
});

</script>